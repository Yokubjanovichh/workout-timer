{"ast":null,"code":"import{memo,useEffect,useState}from\"react\";import clickSound from\"./ClickSound.m4a\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Calculator(_ref){let{workouts,allowSound}=_ref;const[number,setNumber]=useState(workouts.at(0).numExercises);const[sets,setSets]=useState(3);const[speed,setSpeed]=useState(90);const[durationBreak,setDurationBreak]=useState(5);const[duration,setDuration]=useState(0);useEffect(function(){setDuration(number*sets*speed/60+(sets-1)*durationBreak);},[number,sets,speed,durationBreak]);useEffect(function(){function playSound(){if(!allowSound)return;const sound=new Audio(clickSound);sound.play();}playSound();},[duration,allowSound]);const mins=Math.floor(duration);const seconds=(duration-mins)*60;function handleInc(){setDuration(Math.floor(duration+1));}function handleDec(){setDuration(duration>0?Math.ceil(duration-1):0);}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Type of workout\"}),/*#__PURE__*/_jsx(\"select\",{value:number,onChange:e=>setNumber(+e.target.value),children:workouts.map(workout=>/*#__PURE__*/_jsxs(\"option\",{value:workout.numExercises,children:[workout.name,\" (\",workout.numExercises,\" exercises)\"]},workout.name))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"How many sets?\"}),/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:\"1\",max:\"5\",value:sets,onChange:e=>setSets(e.target.value)}),/*#__PURE__*/_jsx(\"span\",{children:sets})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"How fast are you?\"}),/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:\"30\",max:\"180\",step:\"30\",value:speed,onChange:e=>setSpeed(e.target.value)}),/*#__PURE__*/_jsxs(\"span\",{children:[speed,\" sec/exercise\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Break length\"}),/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:\"1\",max:\"10\",value:durationBreak,onChange:e=>setDurationBreak(e.target.value)}),/*#__PURE__*/_jsxs(\"span\",{children:[durationBreak,\" minutes/break\"]})]})]}),/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleDec,children:\"-\"}),/*#__PURE__*/_jsxs(\"p\",{children:[mins<10&&\"0\",mins,\":\",seconds<10&&\"0\",seconds]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleInc,children:\"+\"})]})]});}export default/*#__PURE__*/memo(Calculator);","map":{"version":3,"names":["memo","useEffect","useState","clickSound","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Calculator","_ref","workouts","allowSound","number","setNumber","at","numExercises","sets","setSets","speed","setSpeed","durationBreak","setDurationBreak","duration","setDuration","playSound","sound","Audio","play","mins","Math","floor","seconds","handleInc","handleDec","ceil","children","value","onChange","e","target","map","workout","name","type","min","max","step","onClick"],"sources":["/Users/yokubjanovichgmail.com/Desktop/projects/workout-timer/src/Calculator.js"],"sourcesContent":["import { memo, useEffect, useState } from \"react\";\nimport clickSound from \"./ClickSound.m4a\";\n\nfunction Calculator({ workouts, allowSound }) {\n  const [number, setNumber] = useState(workouts.at(0).numExercises);\n  const [sets, setSets] = useState(3);\n  const [speed, setSpeed] = useState(90);\n  const [durationBreak, setDurationBreak] = useState(5);\n\n  const [duration, setDuration] = useState(0);\n\n  useEffect(\n    function () {\n      setDuration((number * sets * speed) / 60 + (sets - 1) * durationBreak);\n    },\n    [number, sets, speed, durationBreak]\n  );\n\n  useEffect(\n    function () {\n      function playSound() {\n        if (!allowSound) return;\n        const sound = new Audio(clickSound);\n        sound.play();\n      }\n      playSound();\n    },\n    [duration, allowSound]\n  );\n\n  const mins = Math.floor(duration);\n  const seconds = (duration - mins) * 60;\n\n  function handleInc() {\n    setDuration(Math.floor(duration + 1));\n  }\n\n  function handleDec() {\n    setDuration(duration > 0 ? Math.ceil(duration - 1) : 0);\n  }\n\n  return (\n    <>\n      <form>\n        <div>\n          <label>Type of workout</label>\n          <select value={number} onChange={(e) => setNumber(+e.target.value)}>\n            {workouts.map((workout) => (\n              <option value={workout.numExercises} key={workout.name}>\n                {workout.name} ({workout.numExercises} exercises)\n              </option>\n            ))}\n          </select>\n        </div>\n        <div>\n          <label>How many sets?</label>\n          <input type=\"range\" min=\"1\" max=\"5\" value={sets} onChange={(e) => setSets(e.target.value)} />\n          <span>{sets}</span>\n        </div>\n        <div>\n          <label>How fast are you?</label>\n          <input type=\"range\" min=\"30\" max=\"180\" step=\"30\" value={speed} onChange={(e) => setSpeed(e.target.value)} />\n          <span>{speed} sec/exercise</span>\n        </div>\n        <div>\n          <label>Break length</label>\n          <input type=\"range\" min=\"1\" max=\"10\" value={durationBreak} onChange={(e) => setDurationBreak(e.target.value)} />\n          <span>{durationBreak} minutes/break</span>\n        </div>\n      </form>\n      <section>\n        <button onClick={handleDec}>-</button>\n        <p>\n          {mins < 10 && \"0\"}\n          {mins}:{seconds < 10 && \"0\"}\n          {seconds}\n        </p>\n        <button onClick={handleInc}>+</button>\n      </section>\n    </>\n  );\n}\n\nexport default memo(Calculator);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}